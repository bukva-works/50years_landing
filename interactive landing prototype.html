<!DOCTYPE html>
<html>
<head>
	<title>e86sx_001</title>
	<meta charset="utf-8">
	<!-- Compiled w/ P5LIVE, http://github.com/ffd8/p5live -->
	<style type="text/css">
		body{
			margin:0;
			overflow:hidden;
		}
		canvas{
			position:fixed;
			top:0;
			left:0;
			z-index:-1;
			width:100vw;
			height:100vh;
			margin:0;
		}
	</style>
	<script type="text/javascript">
		// eco-mode = only render if window focused
		window.onblur = function () {
			noLoop();
		};
		window.onfocus = function () {
			loop();
		};
	</script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/addons/p5.sound.min.js"></script>
</head>
<body>

<script type="text/javascript">
//e86sx_001

/* CUSTOM FUNCTIONS FOR P5LIVE */
// keep fullscreen if window resized
function windowResized() {
	resizeCanvas(windowWidth, windowHeight);
}

// custom ease function
function ease(iVal, oVal, eVal){
	return oVal += (iVal - oVal) * eVal;
}

// processing compatibility
function println(msg){
	print(msg);
}


let useLines = false

function setup() {
	createCanvas(windowWidth, windowHeight);
	noCursor();
}

function draw() {
	background(0)

	let loopCount = 12;
	noFill()
	stroke(255)
	noFill(0)
	strokeWeight(2)

	for(let i = 1; i < loopCount; i++) {

		let circleWidth = map(mouseX, 0, width, width * 0.293, width); // map(in, oldMin, oldMax, newMin, newMax)
		let lineWidth = map(mouseX, 0, width, 2.5, 3.5);
		let lineX = 0 + pow(i, lineWidth);
		let circleX = circleWidth * (i / 10);

		if(useLines) {
			line(mouseY / 2 + lineX, 0, lineX - mouseY / 2, height);
			line(mouseY / 2 + (width / 2 + lineX), 0, (width / 2 + lineX) - mouseY / 2, height);
		} else {
			ellipse(circleX, height / 2, i * mouseY / 5);
			ellipse(width / 2 + circleX, height / 2, i * mouseY / 5);
		}
	}
}

function mousePressed(){
	useLines = !useLines // now equals the opposite state
}
</script>

</body>
</html>